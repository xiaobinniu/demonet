import{r as a,j as s}from"./index-TAAB46RF.js";import{l as x}from"./index-k5YKgK-T.js";import{D as p,ay as j,b as h,U as g}from"./useAuthNavi-1jCOrt3A.js";import{c as b,d as y}from"./index.esm-rPwCBvah.js";import{P as v}from"./PageBack-rZjQFXe2.js";import{n as w}from"./no-vbQ1vVmA.js";import"./Language-5SG9CA13.js";function z(){const[n,i]=a.useState([]),[r,d]=a.useState(-1),[o,l]=a.useState(!1);a.useEffect(()=>(m(),()=>{}),[]);async function m(){l(!0);const e=await p.getData();i(e),l(!1)}function c(e,f){if(f==0&&(h.request(g.readMail,{mailId:e}),i(u=>u.map(t=>(t.id==e&&(t.readed=1),t)))),e===r){d(-1);return}d(e)}return s.jsxs("div",{className:"w-full bg-gray min-h-screen overflow-y-auto",children:[s.jsx(v,{}),s.jsxs("div",{className:"px-[0.1rem] mt-[0.05rem]",children:[n.map(e=>s.jsxs("div",{className:"mb-[0.1rem] px-[0.05rem] rounded-sm bg-[#202020]",children:[s.jsxs("div",{className:"h-[0.4rem] flex justify-between items-center",onClick:()=>c(e.id,e.readed),children:[s.jsxs("div",{children:[s.jsx("span",{className:"w-[0.1rem] h-[0.1rem] bg-red-600 inline-block rounded-[50%]",style:{visibility:`${e.readed?"hidden":"visible"}`}}),e.funame=="system"?"Sistema":e.funame]}),s.jsxs("div",{className:"flex items-center",children:[j(e.createTime).format("DD/MM/YY HH:mm:ss"),r==e.id?s.jsx(b,{size:24}):s.jsx(y,{size:24})]})]}),s.jsx(x.Collapse,{isOpened:r==e.id,children:s.jsx("p",{className:"p-[0.1rem]",children:e.content})})]},e.id)),n.length==0&&o==!1&&s.jsx("div",{children:s.jsx("img",{src:w,alt:"",className:"w-[1rem] mx-auto"})})]})]})}export{z as default};
