import{j as e,r as c}from"./index-B2SmKpul.js";import{u as j,M as b,I as N,aw as z,i as E,am as M,b as P,U as R,an as T,m as F}from"./useAuthNavi-F9d4edGU.js";import{p as v}from"./pix-mObmh9gV.js";import{m as O}from"./iconmap-mDIymNsu.js";import{c as A}from"./copy-glMUMmBf.js";import{Q as B}from"./index-vkFaTpWf.js";const G="0.15rem";function q({handleClose:d,params:n}){const{t:r}=j();let i,u,x,l="";return n?{amount:i,createTime:u,orderId:x,qrcode:l}=n:b.getSessionStorageWithExpiration("order")&&({amount:i,createTime:u,orderId:x,qrcode:l}=b.getSessionStorageWithExpiration("order")),e.jsx("div",{className:"g-mask flex justify-center items-center",children:e.jsxs("div",{className:"pc-modal w-[5.6rem] h-[6.5rem] bg-grayMenuBg overflow-y-auto flex flex-col items-center",children:[e.jsxs("div",{className:` sticky top-0 left-0 z-10 w-full h-[0.45rem] bg-[#17191b] text-[0.16rem] flex items-center justify-between px-[${G}]`,children:[e.jsx("span",{}),e.jsxs("span",{onClick:d,children:[" ",e.jsx(N,{size:22,color:"#98a7b5"})]})]}),e.jsx("img",{src:v,alt:"",className:"w-[1.3rem] mt-[0.6rem]"}),e.jsx("p",{className:"w-[4rem] text-[0.12rem] leading-[0.15rem] my-[0.16rem]",children:r("支付提示")}),e.jsxs("p",{className:"text-[.25rem] leading-[1.5]",children:[r("货币符号")," ",i]}),e.jsx("div",{className:"p-[3px] bg-white",children:e.jsx(B,{value:l,size:150})}),e.jsxs("button",{className:"w-[2.4rem] h-[0.46rem] flex items-center justify-center rounded-[0.07rem] text-[0.21rem] bg-green mt-[0.3rem]",onClick:()=>{A(l)},children:[r("Copiar Código Pix")," ",e.jsx(z,{})]})]})})}const h="0.15rem",f={paddingLeft:h,paddingRight:h},g=[1,3e4];function J({handleClose:d}){const{t:n}=j(),[r,i]=c.useState(""),[u,x]=c.useState([]),[l,w]=c.useState([]),[p,y]=c.useState(-1);function k(t){i(t.target.value)}c.useEffect(()=>(E.online&&(S(),_()),()=>{}),[]);async function _(){let s=(await M()).mall.data,a=[];for(const o in s)if(Object.prototype.hasOwnProperty.call(s,o)){const m=s[o];m.isOpen&&m.type===2&&a.push(m)}a.sort((o,m)=>o.amount-m.amount),x(a)}function S(){P.request(R.getPayConfig,{},"充值").then(s=>{if(s.code===200){let a=s.data.common;t(a.filter(o=>o.status===1))}});function t(s){w(s);for(let a=0;a<s.length;a++)if(s[a].default===1){y(s[a].type);break}}}function D(t){}function C(t){y(t)}async function I(){if(Number(r)>0&&p!==-1){const t=await T(Number(r),p);t&&(F(q,{params:t}),d())}}const $=["Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ"];return e.jsx("div",{className:"g-mask flex justify-center items-center",children:e.jsxs("div",{className:"pc-modal w-[5.6rem] h-[8.6rem] bg-grayMenuBg overflow-y-auto",children:[e.jsxs("div",{className:`sticky top-0 left-0 z-10 w-full h-[0.45rem] bg-[#17191b] text-[0.16rem] flex items-center justify-between px-[${h}]`,children:[e.jsx("span",{children:n("充值")}),e.jsxs("span",{onClick:d,children:[" ",e.jsx(N,{size:22,color:"#98a7b5"})]})]}),e.jsx("div",{className:"h-[0.74rem] flex items-center",style:f,children:e.jsx("img",{src:v,alt:"",className:"h-[0.27rem] w-auto my-[0.12rem]"})}),e.jsx("div",{className:"w-full grid grid-cols-3 gap-[0.1rem_0.3rem] px-[0.15rem]",style:{display:`${l.length==0?"none":"grid"}`},children:l.map((t,s)=>e.jsxs("button",{className:`rounded-[.05rem] !border-[0.01px] w-[1.5rem] h-[0.4rem] pt-[0.01rem] shrink-0 text-grayInputFont text-[0.15rem] flex items-center justify-center ${t.type===p?"!border-green":"!border-grayInputBg"}`,style:{border:"solid"},onClick:()=>C(t.type),children:["Pix ",$[s]]},t.id))}),e.jsxs("div",{className:"h-[0.8rem] relative flex items-center",style:{...f},children:[e.jsx("input",{type:"text",placeholder:n("Min.",{num:g[0]}),className:"text-[.17rem] w-full h-[0.43rem] bg-[#1a1c20] text-[#8ea7bb] rounded-[0.05rem] indent-[2.14rem] placeholder:text-grayInputFont",value:r,onInput:t=>{t.target.value=t.target.value.replace(/[^\d]/g,""),Number(t.target.value)>g[1]&&(t.target.value=g[1])},onChange:k}),e.jsxs("span",{className:"text-[.17rem] font-bold text-[#8ea7bb] absolute top-1/2 -translate-y-1/2 left-[0.28rem] ",style:{textTransform:"capitalize"},children:[n("金额")," (",n("货币"),")"]})]}),e.jsx("div",{className:"w-full m-[0.06rem_0] text-[.14rem]",style:f,children:e.jsx("ul",{className:"m-[0.09rem_0] grid grid-cols-3 gap-[0.1rem] w-full",children:u.map(t=>e.jsxs("li",{className:`w-full h-[0.48rem] rounded-[0.06rem] text-[0.18rem] bg-[#17181b] flex flex-col items-center justify-center mt-[0.12rem] overflow-hidden relative ${t.amount==r&&"!text-white !bg-green"}`,onClick:()=>{i(t.amount),t.id},children:[e.jsxs("div",{className:"flex items-center mb-[0.01rem]",children:[" ",e.jsx("strong",{className:"italic font-extrabold mr-[0.2em]",children:n("货币符号")})," ",t.amount]}),t.add!=0&&e.jsxs("div",{className:` text-[.13rem] font-bold ${t.amount==r?"text-white":"text-[#3bc119]"}`,children:["+",t.add]}),t.add!=0&&e.jsx("div",{className:"w-[0.36rem] h-[0.36rem] absolute left-0 top-0 bg-no-repeat",style:{backgroundImage:`url(${O})`,backgroundPosition:"-1.92rem -0.01rem",backgroundSize:"3.2rem auto"}})]},t.id))})}),e.jsx("div",{style:f,className:"flex items-center",children:e.jsx("button",{className:"rounded-[.05rem] my-[0.2rem] bg-green w-full h-[0.44rem] text-white text-center text-[0.14rem]",disabled:!(Number(r)>0),style:{opacity:Number(r)>0?1:.4},onClick:()=>I(),children:n("Depositar Agora")})})]})})}export{J as default};
