import{u as w,r as m,j as t}from"./index-TAAB46RF.js";import{P as k}from"./PageBack-rZjQFXe2.js";import{m as I}from"./iconmap-mDIymNsu.js";import{p as P}from"./pix-mObmh9gV.js";import{u as C,i as S,am as $,b as B,U as A,I as E,an as F}from"./useAuthNavi-1jCOrt3A.js";import"./Language-5SG9CA13.js";const u=[1,3e4];function q(){const{t:l}=C(),x=w(),[s,i]=m.useState(""),[g,p]=m.useState([]),[d,h]=m.useState([]),[c,f]=m.useState(-1);function y(e){i(e.target.value)}m.useEffect(()=>(S.online&&(v(),b()),()=>{}),[]);async function b(){let r=(await $()).mall.data,a=[];for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)){const o=r[n];o.isOpen&&o.type===2&&a.push(o)}a.sort((n,o)=>n.amount-o.amount),p(a)}function v(){B.request(A.getPayConfig,{},"充值").then(r=>{if(r.code===200){let a=r.data.common;e(a.filter(n=>n.status===1))}});function e(r){h(r);for(let a=0;a<r.length;a++)if(r[a].default===1){f(r[a].type);break}}}function M(e){}function j(e){f(e)}async function N(){if(Number(s)>0&&c!==-1){const e=await F(Number(s),c);e&&x("/order",{state:e})}}const _=["Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ"];return t.jsxs("div",{className:"p-[0.44rem_0.18rem_1rem] bg-grayPage w-full min-h-[100vh]",children:[t.jsx("div",{className:"fixed top-0 w-full left-0",children:t.jsx(k,{children:l("充值")})}),t.jsx("img",{src:P,alt:"",className:"h-[.27rem] m-[0.12rem_0]"}),t.jsx("div",{className:"overflow-x-auto w-full",children:t.jsx("div",{className:"flex items-center m-[0.1rem_0] h-[0.29rem]",style:{display:`${d.length==0?"none":"flex"}`},children:d.map((e,r)=>t.jsxs("button",{className:`rounded-[.05rem] !border-[0.01px] mr-[0.06rem] w-[0.96rem] h-full pt-[0.01rem] shrink-0 text-grayInputFont text-[0.1rem] flex items-center justify-center ${e.type===c?"!border-green":"!border-grayInputBg"}`,style:{border:"solid"},onClick:()=>j(e.type),children:["Pix ",_[r]]},e.id))})}),t.jsxs("div",{className:"text-white w-full",children:[t.jsxs("div",{className:"text-[.14rem] m-[0.06rem_0] relative",children:[t.jsx("div",{children:l("Montante")}),t.jsx("input",{type:"text",placeholder:l("Min.",{num:u[0]}),className:"text-[.17rem] w-full h-[0.42rem] m-[0.12rem_0_0.04rem] bg-grayInputBg text-grayInputFont rounded-[0.05rem] indent-[0.14rem] placeholder:text-grayInputFont",value:s,onInput:e=>{e.target.value=e.target.value.replace(/[^\d]/g,""),Number(e.target.value)>u[1]&&(e.target.value=u[1])},onChange:y}),t.jsx("div",{className:"absolute right-[0.16rem] top-[0.37rem] text-[.18rem] text-[#757575]",onClick:()=>i(""),children:t.jsx(E,{})})]}),t.jsx("div",{className:"w-full m-[0.06rem_0] text-[.14rem]",children:t.jsx("ul",{className:"m-[0.09rem_0] grid grid-cols-3 gap-[0.1rem] w-full",children:g.map(e=>t.jsxs("li",{className:`w-full h-[0.48rem] rounded-[0.06rem] text-[0.18rem] bg-grayInputBg flex flex-col items-center justify-center mt-[0.12rem] overflow-hidden relative ${e.amount==s&&"!text-white !bg-green"}`,onClick:()=>{i(e.amount),e.id},children:[t.jsxs("div",{className:"flex items-center mb-[0.01rem]",children:[" ",t.jsx("strong",{className:"italic font-extrabold mr-[0.2em]",children:l("货币符号")})," ",e.amount]}),e.add!=0&&t.jsxs("div",{className:` text-[.1rem] ${e.amount==s?"text-white":"text-[#ff9500]"}`,children:["+",e.add]}),e.add!=0&&t.jsx("div",{className:"w-[0.36rem] h-[0.36rem] absolute left-0 top-0 bg-no-repeat",style:{backgroundImage:`url(${I})`,backgroundPosition:"-1.92rem -0.01rem",backgroundSize:"3.2rem auto"}})]},e.id))})}),t.jsx("button",{className:"rounded-[.05rem] m-[0.24rem_0_0.19rem] bg-green w-full h-[0.44rem] text-white text-center text-[0.14rem]",disabled:!(Number(s)>0),style:{opacity:Number(s)>0?1:.4},onClick:()=>N(),children:l("Depositar Agora")})]})]})}export{q as default};
