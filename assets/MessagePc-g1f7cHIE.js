import{r as t,j as e}from"./index-B2SmKpul.js";import{l as f}from"./index-mG1mfWQt.js";import{D as u,I as j,ay as p,b as h,U as b}from"./useAuthNavi-F9d4edGU.js";import{c as y,d as g}from"./index.esm-NoO7gxas.js";import{n as v}from"./no-vbQ1vVmA.js";const w="0.15rem";function z({handleClose:d}){const[n,i]=t.useState([]),[r,l]=t.useState(-1);t.useEffect(()=>(c(),()=>{}),[]);async function c(){const s=await u.getData();i(s)}function o(s,m){if(m==0&&(h.request(b.readMail,{mailId:s}),i(x=>x.map(a=>(a.id==s&&(a.readed=1),a)))),s===r){l(-1);return}l(s)}return e.jsx("div",{className:"g-mask flex justify-center items-center text-[0.16rem]",children:e.jsxs("div",{className:"pc-modal w-[5.6rem] h-[8rem] bg-grayMenuBg overflow-y-auto",children:[e.jsxs("div",{className:`sticky top-0 left-0 z-10 w-full h-[0.45rem] bg-[#17191b] text-[0.16rem] flex items-center justify-between px-[${w}]`,children:[e.jsx("span",{}),e.jsxs("span",{onClick:d,children:[" ",e.jsx(j,{size:22,color:"#98a7b5"})]})]}),e.jsxs("div",{className:"w-full px-[0.1rem]",children:[n.map(s=>e.jsxs("div",{className:"mt-[0.1rem] bg-[#202020] rounded-sm",children:[e.jsxs("div",{className:"h-[0.5rem] flex justify-between items-center cursor-pointer",onClick:()=>o(s.id,s.readed),children:[e.jsxs("div",{children:[e.jsx("span",{className:"w-[0.1rem] h-[0.1rem] bg-red-600 inline-block rounded-[50%]",style:{visibility:`${s.readed?"hidden":"visible"}`}}),s.funame=="system"?"Sistema":s.funame]}),e.jsxs("div",{className:"flex items-center",children:[p(s.createTime).format("DD/MM/YY HH:mm:ss"),r==s.id?e.jsx(y,{size:24}):e.jsx(g,{size:24})]})]}),e.jsx(f.Collapse,{isOpened:r==s.id,children:e.jsx("p",{className:"p-[0.1rem] pl-[0.2rem]",children:s.content})})]},s.id)),e.jsx("div",{className:"h-[0.3rem]"}),n.length==0&&e.jsx("div",{children:e.jsx("img",{src:v,alt:"",className:"w-[1rem] mx-auto"})})]})]})})}export{z as default};
