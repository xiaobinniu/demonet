import{r as c,j as e}from"./index-TAAB46RF.js";import{u as J,ao as j,i as K,b as m,U as u,_ as O,ap as A,I as Q,h as X,av as Y,c as w,a8 as ee}from"./useAuthNavi-1jCOrt3A.js";import{p as ae}from"./pix-mObmh9gV.js";const te="0.15rem";function re({handleClose:E}){const{t:n}=J(),x=[{id:1,type:"CPF",placeholder:"000.000.000-00"},{id:3,type:n("Número de Celular"),placeholder:n("账号位数数字")},{id:2,type:n("EMAIL"),placeholder:n("EMAIL")}],[g,T]=c.useState(""),[i,y]=c.useState(x[0]),[M,p]=c.useState(!1),[l,r]=c.useState(""),[q,se]=c.useState(""),[C,D]=c.useState(0),[P,B]=c.useState("4"),[L,$]=c.useState(0),[k,F]=c.useState([100,1e4]),[o,h]=c.useState({passport:"",email:"",phone:"",realName:"",bankType:1,pixDict:1}),_=c.useMemo(()=>{let t;switch(i.id){case 1:t=j.validarCPF(l);break;case 3:t=j.phone(l);break;case 2:t=j.email(l);break;default:t=!0;break}return Number(g)>=k[0]&&t&&C>=0},[l,g]),v=c.useRef(0);function G(t){const s=t.target;switch(i.id){case 1:if(s.maxLength=14,v.current<s.value.length){let a=s.value.replace(/[^0-9]/g,"");a.length>=3&&a.length<6?a=a.slice(0,3)+"."+a.slice(3):a.length>=6&&a.length<9?a=a.slice(0,3)+"."+a.slice(3,6)+"."+a.slice(6):a.length>=9&&(a=a.slice(0,3)+"."+a.slice(3,6)+"."+a.slice(6,9)+"-"+a.slice(9)),s.value=a}else s.value=s.value.slice(0,s.selectionStart);r(s.value),v.current=s.value.length;break;case 3:s.maxLength=A.phoneLength,s.value=s.value.replace(/[^0-9]/g,""),r(s.value);break;case 2:s.value=s.value.replace(/[^a-zA-Z0-9@.]/,""),r(s.value);break}}function R(t){r(t.target.value)}function z(t){const s=t.target;s.value=s.value.replace(/[^0-9\.]/g,"").replace(/(\..*)\./g,"$1")}function U(t){T(t.target.value)}async function W(){switch(i.id){case 1:o.passport?f():N(1);break;case 3:o.phone?f():N(3);break;case 2:o.email?f():N(2);break;default:r("");break}}async function N(t){let s;switch(t){case 1:s=await m.request(u.bindBankCard,{passport:l,realName:w.getNickname(),bankType:1,pixDict:1}),s.code==200&&h({...o,passport:l});break;case 3:s=await m.request(u.bindBankCard,{phone:l,realName:w.getNickname(),bankType:1,pixDict:3}),s.code==200&&h({...o,phone:l});break;case 2:s=await m.request(u.bindBankCard,{email:l,realName:w.getNickname(),bankType:1,pixDict:2}),s.code==200&&h({...o,email:l});break}return s.code==200?(f(),!0):!1}async function f(){(await m.request(u.exchangeGold,{gold:g})).code===200&&ee.success("提现成功")}c.useEffect(()=>{K.online&&Z()},[]);function V(t){y(t),S(t.id)}function S(t,s){let a,b=t||i.id,d=s||o;switch(b){case 1:a=d.passport,r(a);break;case 3:a=d.phone,r(a);break;case 2:a=d.email,r(a);break;default:r("");break}}async function Z(){m.request(u.getExchangeInfo,{},"").then(t=>{var s;if(t.code===200){const a=(s=t.data)==null?void 0:s.bankInfo;if(!O.isEmpty(a)){let b=a.bankPhone.replace(`+${A.phonePre}`,""),d={passport:a.bankCard==="123456789"?"":a.bankCard,email:a.bankEmail==="123456789@gmail.com"?"":a.bankEmail,phone:b==="123456789"?"":b,realName:a.realName,bankType:1,pixDict:a.pixDict};h(d);let I=x.find(H=>H.id==a.pixDict)||x[0];y(I),S(I.id,d)}F(t.data.range),B(t.data.withdrawRate),D(t.data.exchangeCnt),$(t.data.exchangeGold)}})}return e.jsx("div",{className:"g-mask flex justify-center items-center",children:e.jsxs("div",{className:"pc-modal w-[5.6rem] h-[8.6rem] bg-grayMenuBg overflow-y-auto text-[0.14rem]",children:[e.jsxs("div",{className:`z-10 sticky top-0 left-0 w-full h-[0.45rem] bg-[#17191b] text-[0.16rem] flex items-center justify-between px-[${te}]`,children:[e.jsx("span",{children:n("提现")}),e.jsxs("span",{onClick:E,children:[" ",e.jsx(Q,{size:22,color:"#98a7b5"})]})]}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-[0.15rem]",children:[e.jsx("div",{className:"h-[0.74rem] flex items-center px-[0.15rem]",children:e.jsx("img",{src:ae,alt:"",className:"h-[0.27rem] w-auto my-[0.12rem]"})}),e.jsx("div",{className:"text-[#ffdd25] text-[.12rem]",children:n("withtip")}),e.jsx("div",{className:"mt-[.2rem]",children:n("accountTip")}),e.jsxs("div",{className:"flex items-center bg-[#1a1c20] text-[#8ea7bb] rounded-[4px] m-[0.07rem_0]",children:[e.jsxs("div",{className:"flex items-center text-white",onClick:()=>p(!0),children:[e.jsx("div",{className:"mx-[0.1rem] whitespace-nowrap",children:i.type}),e.jsx("div",{className:"",children:e.jsx(X,{})})]}),e.jsx("input",{type:"text",className:"text-[.14rem] w-full h-[0.48rem] bg-[#1a1c20] text-[#8ea7bb] rounded-[0.05rem] indent-[.06rem] placeholder:text-[#8ea7bb]",placeholder:i.placeholder,onInput:G,onChange:R,value:l})]}),e.jsx("div",{className:"mt-[.18rem]",children:n("Montante")}),e.jsx("div",{className:"flex items-center bg-[#1a1c20] text-[#8ea7bb] rounded-[4px] m-[0.07rem_0]",children:e.jsx("input",{type:"text",className:"text-[.14rem] w-full h-[0.48rem] bg-[#1a1c20] text-[#8ea7bb] rounded-[0.05rem] indent-[.06rem] placeholder:text-[#8ea7bb]",placeholder:`${n("Min.",{num:k[0]})} ${n("Max.",{num:k[1]})}`,onInput:z,onChange:U})}),e.jsx("div",{className:"text-[.13rem] mt-[.16rem] text-white",children:e.jsxs("ul",{children:[e.jsxs("li",{className:"leading-[.23rem]",children:[n("可提款"),e.jsxs("span",{className:"text-[.12rem] text-[#fcde26]",children:[" ",L," ",n("货币")]})]}),e.jsx("li",{className:"leading-[.23rem]",children:n("Withdrawal fees",{num:P})}),e.jsxs("li",{className:"leading-[.23rem]",children:[n("Para aumentar seu saldo disponível"),e.jsxs("span",{className:"text-[.12rem] text-green",onClick:()=>{},children:[" ",n("Aposte Agora")]})]})]})}),e.jsxs("div",{className:"text-[.14rem]",children:[e.jsx("div",{className:"text-[#e53535] mt-[0.1rem]",children:q}),e.jsxs("button",{className:"w-full h-[0.44rem] text-white m-[0.26rem_0_0.14rem] uppercase",style:{background:"linear-gradient(180deg,#ff9323,#ff6a01)",opacity:_?1:.4},disabled:!_,onClick:W,children:[n("saque")," (",C,")"]}),e.jsx("div",{className:"text-[.12rem] text-[#c7c7c7] leading-[.15rem]",children:"Saques podem sofrer atrasos devido a falhas contínuas no sistema bancário por dois dias"})]})]}),e.jsxs(Y,{visible:M,closeable:!0,className:"h-[2rem] flex flex-col",position:"bottom",round:!0,onClose:()=>p(!1),children:[x.map(t=>e.jsx("button",{className:`w-full h-[0.5rem] p-[14px_16px] text-center  text-[16px] ${t.id===i.id?"text-green":"text-black"}`,onClick:()=>{p(!1),V(t),v.current=0},children:t.type},t.id)),e.jsx("div",{className:"w-full h-[0.05rem] bg-[#f7f8fa]"}),e.jsx("button",{className:"w-full h-[0.5rem] text-black p-[14px_16px] text-center  text-[16px] ",onClick:()=>p(!1),children:n("Cancelar")})]})]})]})})}export{re as default};
