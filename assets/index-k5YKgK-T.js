import{r as W}from"./index-TAAB46RF.js";var O={};function v(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?v=function(r){return typeof r}:v=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},v(e)}Object.defineProperty(O,"__esModule",{value:!0});O.Collapse=void 0;var S=I(W);function I(e){return e&&e.__esModule?e:{default:e}}function M(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function j(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function z(e,n,r){return n&&j(e.prototype,n),r&&j(e,r),e}function B(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&C(e,n)}function C(e,n){return C=Object.setPrototypeOf||function(i,t){return i.__proto__=t,i},C(e,n)}function N(e){var n=K();return function(){var i=_(e),t;if(n){var o=_(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return q(this,t)}}function q(e,n){if(n&&(v(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_(e)}function p(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var D=function(e){B(r,e);var n=N(r);function r(i){var t;return M(this,r),t=n.call(this,i),p(f(t),"timeout",void 0),p(f(t),"container",void 0),p(f(t),"content",void 0),p(f(t),"onResize",function(){if(clearTimeout(t.timeout),!(!t.container||!t.content)){var o=t.props,u=o.isOpened,a=o.checkTimeout,l=Math.floor(t.container.clientHeight),s=Math.floor(t.content.clientHeight),c=u&&Math.abs(s-l)<=1,d=!u&&Math.abs(l)<=1;c||d?t.onRest({isFullyOpened:c,isFullyClosed:d,isOpened:u,containerHeight:l,contentHeight:s}):(t.onWork({isFullyOpened:c,isFullyClosed:d,isOpened:u,containerHeight:l,contentHeight:s}),t.timeout=setTimeout(function(){return t.onResize()},a))}}),p(f(t),"onRest",function(o){var u=o.isFullyOpened,a=o.isFullyClosed,l=o.isOpened,s=o.containerHeight,c=o.contentHeight;if(!(!t.container||!t.content)){var d=l&&t.container.style.height==="".concat(c,"px"),P=!l&&t.container.style.height==="0px";if(d||P){t.container.style.overflow=l?"initial":"hidden",t.container.style.height=l?"auto":"0px";var h=t.props.onRest;h&&h({isFullyOpened:u,isFullyClosed:a,isOpened:l,containerHeight:s,contentHeight:c})}}}),p(f(t),"onWork",function(o){var u=o.isFullyOpened,a=o.isFullyClosed,l=o.isOpened,s=o.containerHeight,c=o.contentHeight;if(!(!t.container||!t.content)){var d=l&&t.container.style.height==="".concat(c,"px"),P=!l&&t.container.style.height==="0px";if(!(d||P)){t.container.style.overflow="hidden",t.container.style.height=l?"".concat(c,"px"):"0px";var h=t.props.onWork;h&&h({isFullyOpened:u,isFullyClosed:a,isOpened:l,containerHeight:s,contentHeight:c})}}}),p(f(t),"onRefContainer",function(o){t.container=o}),p(f(t),"onRefContent",function(o){t.content=o}),i.initialStyle?t.initialStyle=i.initialStyle:t.initialStyle=i.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},t}return z(r,[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(t){var o=this.props,u=o.theme,a=o.isOpened,l=o.children;return l!==t.children||a!==t.isOpened||Object.keys(u).some(function(s){return u[s]!==t.theme[s]})}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if(this.container.style.height==="auto"){var t=this.content.clientHeight;this.container.style.height="".concat(t,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var t=this.props,o=t.theme,u=t.children,a=t.isOpened;return S.default.createElement("div",{ref:this.onRefContainer,className:o.collapse,style:this.initialStyle,"aria-hidden":!a},S.default.createElement("div",{ref:this.onRefContent,className:o.content},u))}}]),r}(S.default.Component);O.Collapse=D;p(D,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50});var w={};function m(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(r){return typeof r}:m=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},m(e)}Object.defineProperty(w,"__esModule",{value:!0});w.UnmountClosed=void 0;var H=J(W),L=O,A=["isOpened"],G=["isOpened"];function J(e){return e&&e.__esModule?e:{default:e}}function k(){return k=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},k.apply(this,arguments)}function x(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function F(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?x(Object(r),!0).forEach(function(i){y(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function U(e,n){if(e==null)return{};var r=Q(e,n),i,t;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)i=o[t],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function Q(e,n){if(e==null)return{};var r={},i=Object.keys(e),t,o;for(o=0;o<i.length;o++)t=i[o],!(n.indexOf(t)>=0)&&(r[t]=e[t]);return r}function V(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function E(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function X(e,n,r){return n&&E(e.prototype,n),r&&E(e,r),e}function Y(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&$(e,n)}function $(e,n){return $=Object.setPrototypeOf||function(i,t){return i.__proto__=t,i},$(e,n)}function Z(e){var n=te();return function(){var i=b(e),t;if(n){var o=b(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return ee(this,t)}}function ee(e,n){if(n&&(m(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},b(e)}function y(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var T=function(e){Y(r,e);var n=Z(r);function r(i){var t;return V(this,r),t=n.call(this,i),y(g(t),"onWork",function(o){var u=o.isOpened,a=U(o,A);t.setState({isResting:!1,isOpened:u});var l=t.props.onWork;l&&l(F({isOpened:u},a))}),y(g(t),"onRest",function(o){var u=o.isOpened,a=U(o,G);t.setState({isResting:!0,isOpened:u,isInitialRender:!1});var l=t.props.onRest;l&&l(F({isOpened:u},a))}),y(g(t),"getInitialStyle",function(){var o=t.state,u=o.isOpened,a=o.isInitialRender;return a?u?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}:{height:"0px",overflow:"hidden"}}),t.state={isResting:!0,isOpened:i.isOpened,isInitialRender:!0},t}return X(r,[{key:"componentDidUpdate",value:function(t){var o=this.props.isOpened;t.isOpened!==o&&this.setState({isResting:!1,isOpened:o,isInitialRender:!1})}},{key:"render",value:function(){var t=this.state,o=t.isResting,u=t.isOpened;return o&&!u?null:H.default.createElement(L.Collapse,k({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}]),r}(H.default.PureComponent);w.UnmountClosed=T;y(T,"defaultProps",{onWork:void 0,onRest:void 0});var ne=O,re=ne.Collapse,ie=w,R=ie.UnmountClosed,ue=R;R.Collapse=re;R.UnmountClosed=R;export{ue as l};
