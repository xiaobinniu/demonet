import{r as o,j as t,s as a}from"./index-B2SmKpul.js";import{o as p,u as d,i as s,aB as i}from"./useAuthNavi-F9d4edGU.js";function u(){const r=o.useRef(),{t:l}=d();function n(e){console.log({width:document.documentElement.clientWidth,pwa:"beforeinstallprompt",isMobile:a,isPwa:i()}),e.preventDefault(),a&&i()==="browser"&&(r.current=e,window.mypwa=e,s.setValue("pwa",!0))}async function c(){r.current.prompt();const{outcome:e}=await r.current.userChoice;r.current=null,s.setValue("pwa",!1),e==="accepted"?console.log("User accepted the install prompt."):e==="dismissed"&&console.log("User dismissed the install prompt")}function m(){s.setValue("pwa",!1)}return o.useEffect(()=>(window.addEventListener("beforeinstallprompt",n),()=>{window.removeEventListener("beforeinstallprompt",n)}),[]),t.jsxs("div",{className:"fixed bottom-0 w-full h-[1.73rem] z-[9998] bg-white pt-[0.20rem] pl-[0.20rem] pr-[0.15rem]",onClick:e=>e.stopPropagation(),style:{display:s.pwa?"block":"none"},children:[t.jsxs("div",{className:"flex",children:[t.jsx("img",{src:"https://9f011208.com/img/logo_4.f25e9651.png",alt:"",className:"w-[0.60rem] h-[0.60rem] shrink-0 mr-[0.10rem]"}),t.jsx("p",{className:"flex-1 text-black leading-[1.2]",children:l("pwa")})]}),t.jsxs("div",{className:"flex items-center justify-end mt-[0.10rem]",children:[t.jsx("button",{className:"w-[1rem] h-[0.40rem] rounded-[0.10rem] border text-green",onClick:m,children:"Cancelar"}),t.jsx("button",{className:"w-[1rem] h-[0.40rem] rounded-[0.10rem] bg-green text-white ml-[0.20rem]",onClick:c,children:"Continuar"})]})]})}const h=p(u);export{h as default};
